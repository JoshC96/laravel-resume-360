import{x as A,e as t}from"./app-ac863ed7.js";import{J as w}from"./JobsApi-a7aa4459.js";const c=["ConfirmQuickApply","EditCoverLetter","ContactDetails","ReviewApplication"],C=A("quickApplyFlowStore",()=>{const i=w.make(),e=t({jobId:null,jobRole:null,entityName:null,applicantName:null,applicantEmail:null,applicantPhone:null,coverLetter:null,userEditedCoverLetter:!1}),n=t(!1),u=t(!1),r=t(""),a=t(c[0]),o=t(c),s=t(!0);function v(l){e.value.jobId=l.id,e.value.jobRole=l.role,e.value.entityName=l.entity,u.value=!0}async function f(){n.value=!0;const{data:l}=await i.generateCoverLetter(e.value.jobId);e.value.coverLetter=l.resp.coverLetter,n.value=!1}async function d(){return await i.quickApply(e.value)}function m(l=null){l?a.value=o.value[l]:a.value=o.value[o.value.indexOf(a.value)+1]}function y(){s.value=!1,setTimeout(()=>{p()},2e3)}function p(){n.value=!1,u.value=!1,r.value="",a.value=c[0],Object.assign(e.value,{jobId:null,jobRole:null,entityName:null,applicantName:null,applicantEmail:null,applicantPhone:null,coverLetter:null,userEditedCoverLetter:!1})}return{api:i,application:e,loading:n,showQuickApplication:u,errorMessage:r,currentSlide:a,slides:o,showReview:s,quickApply:d,generateCoverLetter:f,nextSlide:m,cancelQuickApply:p,initializeFlow:v,completeApplication:y}});export{C as u};
